{
	"id": "com.tclcode.otgw",
    "name": {
        "en": "OpenTherm Gateway"
    },
    "version": "0.6.2",
	"compatibility": ">=0.9.1",
	"description": {
		"en": "Control your OpenTherm Gateway via Homey",
		"nl": "Bestuur je OpenTherm Gateway met Homey"
	},
	"author": {
		"name": "Ramon Baas",
		"website": "http://otgw.tclcode.com/"
	},
	"category": "climate",
	"images": {
		"large": "assets/images/large.png",
		"small": "assets/images/small.png"
	},
	"capabilities": {
		"flame_on": {
			"type": "boolean", 
			"title": { "en": "Flame on", "nl": "Vlam aan" },
			"getable": true, 
			"setable": false 
		},
		"heating_on": {
			"type": "boolean", 
			"title": { "en": "Heating on", "nl": "Verwarming aan" },
			"getable": true, 
			"setable": false 
		},
		"cooling_on": {
			"type": "boolean", 
			"title": { "en": "Cooling on", "nl": "Koelen aan" },
			"getable": true, 
			"setable": false 
		},
		"heating_water": { 
			"type": "boolean", 
			"title": { "en": "Heating water", "nl": "Water verwarmen" },
			"getable": true, 
			"setable": false 
		},
		"fault": {
			"type": "boolean", 
			"title": { "en": "Fault", "nl": "Fout" },
			"getable": true, 
			"setable": false 
		}
	},
	"drivers": [
		{
			"id": "thermostat",
			"name": {
				"en": "Thermostat",
				"nl": "Thermostaat"
			},
			"class": "thermostat",
			"capabilities": [ 
				"target_temperature", 
				"measure_temperature", 
				"thermostat_mode",
				"flame_on",
				"heating_on",
				"cooling_on",
				"heating_water",
				"fault"
			],
			"images": {
				"large": "drivers/thermostat/assets/images/large.png",
				"small": "drivers/thermostat/assets/images/small.png"
			},
			"pair": [
				{
					"id": "list_thermostats",
					"template": "list_devices",
					"navigation": {
						"next": "add_thermostats"
					}
				},
				{
					"id": "add_thermostats",
					"template": "add_devices"
				}
			]
		},
			{
			"id": "temperature",
			"name": {
				"en": "Temperature Sensor",
				"nl": "Temperatuur Sensor"
			},
			"class": "sensor",
			"capabilities": [ "measure_temperature" ],
			"images": {
				"large": "drivers/temperature/assets/images/large.png",
				"small": "drivers/temperature/assets/images/small.png"
			},
			"pair": [
				{
					"id": "list_sensors",
					"template": "list_devices",
					"navigation": {
						"next": "add_sensors"
					}
				},
				{
					"id": "add_sensors",
					"template": "add_devices"
				}
			]
		},
			{
			"id": "pressure",
			"name": {
				"en": "Pressure Sensor",
				"nl": "Druk Sensor"
			},
			"class": "sensor",
			"capabilities": [ "measure_pressure" ],
			"images": {
				"large": "drivers/pressure/assets/images/large.png",
				"small": "drivers/pressure/assets/images/small.png"
			},
			"pair": [
				{
					"id": "list_sensors",
					"template": "list_devices",
					"navigation": {
						"next": "add_sensors"
					}
				},
				{
					"id": "add_sensors",
					"template": "add_devices"
				}
			]
		}
	],
	"flow": {
		"triggers": [
			{
				"id": "status",
				"title": {
					"en": "Status flag gets",
					"nl": "Statusvlag wordt"
				},
				"args": [
					{
						"name": "values",
						"type": "dropdown",
						"values": [
							{
								"id": "on",
								"label": {
										"en": "active",
										"nl": "actief"
								}
							},
							{
								"id": "off",
								"label": {
										"en": "inactive",
										"nl": "inactief"
								}
							}
						]
					}
				],
				"tokens": [
					{
						"name": "flag",
						"title": { 
							"en": "Status flag",
							"nl": "Statusvlag"
						}
					}
				]
			},
			{
				"id": "faultcode",
				"title": {
					"en": "Boiler fault code gets",
					"nl": "Ketelstoringscode wordt"
				},
				"args": [
					{
						"name": "values",
						"type": "dropdown",
						"values": [
							{
								"id": "on",
								"label": {
										"en": "active",
										"nl": "actief"
								}
							},
							{
								"id": "off",
								"label": {
										"en": "inactive",
										"nl": "inactief"
								}
							}
						]
					}
				],
				"tokens": [
					{
						"name": "OEM",
						"title": { 
							"en": "OEM code"
						}
					},
					{
						"name": "type",
						"title": { 
							"en": "Fault type",
							"nl": "Type fout"
						}
					}
				]
			},
			{
				"id": "override",
				"title": {
					"en": "Room setpoint override gets",
					"nl": "Overschrijven kamertemp. wordt"
				},
				"args": [
					{
						"name": "values",
						"type": "dropdown",
						"values": [
							{
								"id": "on",
								"label": {
										"en": "active",
										"nl": "actief"
								}
							},
							{
								"id": "off",
								"label": {
										"en": "inactive",
										"nl": "inactief"
								}
							}
						]
					}
				],
				"tokens": [
					{
						"name": "temp",
						"title": { 
							"en": "Temperature",
							"nl": "Temperatuur"
						}
					}
				]
			},
			{
				"id": "command",
				"title": {
					"en": "Response received",
					"nl": "Antwoord ontvangen"
				},
				"tokens": [
					{
						"name": "response",
						"title": {
							"en": "Response",
							"nl": "Antwoord"
						}
					},
					{
						"name": "result",
						"title": {
							"en": "Result",
							"nl": "Resultaat"
						}
					}
				]
			}
		],
		"conditions": [
			{
				"id": "override",
				"title": {
					"en": "Remote override is !{{active|inactive}}",
					"nl": "Overschrijven kamertemperatuur is !{{aan|uit}}"
				}
			}
		],
		"actions": [
			{
				"id": "setHotWater",
				"title": {
					"en": "Set hot water mode",
					"nl": "Zet tapwater mode"
				},
				"args": [
					{
						"name": "mode",
						"type": "dropdown",
						"values": [
							{
								"id": "thermostat",
								"label": {
										"en": "Thermostat controlled",
										"nl": "Volg thermostaat"
								}
							},
							{
								"id": "on",
								"label": {
										"en": "Keep water hot",
										"nl": "Hou water heet"
								}
							},
							{
								"id": "off",
								"label": {
										"en": "Don't pre-heat",
										"nl": "Niet voorverwarmen"
								}
							}
						]
					}
				]
			},
			{
				"id": "setClock",
				"title": {
					"en": "Set current thermostat time",
					"nl": "Zet huidige tijd thermostaat"
				}
			},
			{
				"id": "setOutsideTemperature",
				"title": {
					"en": "Set outside temperature",
					"nl": "Zet buitentemperatuur"
				},
				"args": [
					{
						"name": "temperature",
						"type": "number",
						"min": "-20",
						"max": "40",
						"placeholder": { "en": "In degree celcius", "nl": "In graden celcius" }
					}
				]
			},
			{
				"id": "setRoomHumidity",
				"title": {
					"en": "Set humidity level",
					"nl": "Zet luchtvochtigheid"
				},
				"args": [
					{
						"name": "humidity",
						"type": "number",
						"min": "0",
						"max": "100",
						"placeholder": { "en": "In percent", "nl": "Als percentage" }
					}
				]
			},
			{
				"id": "sendCommand",
				"title": {
					"en": "Send Gateway command",
					"nl": "Verstuur commando"
				},
				"args": [
					{
						"name": "command",
						"type": "text",
						"placeholder": { "en": "e.g. PR=A" }
					}
				]
			}
		]
    },
	"permissions": [
        "homey:manager:speech-output"
    ],
	"speech": [
		{
			"id": "temp",
			"importance": 0.5,
			"triggers": {
				"en": [ "temperature" ],
				"nl": [ "temperatuur" ]
			}
		},
		{
			"id": "room",
			"importance": 0.5,
			"triggers": {
				"en": [ "room" ],
				"nl": [ "kamer" ]
			}
		},
		{
			"id": "boiler",
			"importance": 0.5,
			"triggers": {
				"en": [ "boiler" ],
				"nl": [ "ketel" ]
			}
		},
		{
			
			"id": "wrong",
			"importance": 0.5,
			"triggers": {
				"en": [ "wrong", "broken", "error", "fault", "problem" ],
				"nl": [ "fout", "kapot", "probleem" ]
			}
		},
		{
			
			"id": "pressure",
			"importance": 0.4,
			"triggers": {
				"en": [ "pressure" ],
				"nl": [ "druk" ]
			}
		},
		{
			
			"id": "target",
			"importance": 0.5,
			"triggers": {
				"en": [ "target" ],
				"nl": [ "doel" ]
			}
		}
	],
	"dependencies": {
		"otg-api": "*"
	}
}