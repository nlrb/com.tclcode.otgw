function DecodeValue(val1, msgVal, val2) {
   var val = '';
   if (msgVal == 'u16') { // unsigned 16
      val = val1*256 + val2;
   } else if (msgVal == 's16') { // signed 16
      val = val1*256 + val2;
      if (val1 & 0x80) {
         val = -65536 + val;
      }
   } else if (msgVal == 'f8.8') { // floating point
      val = val1 + val2/256;
      if (val1 & 0x80) {
         val = -256 + val;
      }
      val = val.toFixed(2); // high accuracy
   } else { // byte only types
		if (msgVal == 'flag8') { // flag 8
			for (i = 7; i >= 0; i--) {
				val += (val1 & Math.pow(2, i)) ? '1' : '0';
			}
		} else if (msgVal == 'u8') { // unsigned 8
			 val = val1.toString(10);
		} else if (msgVal == 's8') { // signed 8
			 val = val1;
			 if (val1 & 0x80) {
				val = -256 + val;
			 }
			 val = val.toString(10);
		}
		if (val2 != null) {
			val = val + ' ' + DecodeValue(val2, msgVal);
		}
   }
	
	return val
}

module.exports = { 'decode': DecodeValue };